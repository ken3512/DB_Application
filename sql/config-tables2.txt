CREATE TABLE `University` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `Name` varchar(255) NOT NULL,
  `Bio` varchar(255),
  `GmailAt` varchar(255) NOT NULL,
  `DataTimeCreated` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DataTimeUpdated` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`ID`)
);

CREATE TABLE `Users` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `UniversityID` int NOT NULL REFERENCES University(ID),
CONSTRAINT FK_User_Unvi FOREIGN KEY (UniversityID) REFERENCES University(ID),
  `Super` boolean NOT NULL DEFAULT  0,
  `Name` varchar(255)  NOT NULL,
  `Gmail` varchar(255) NOT NULL,
  `Phone` int(10),
  `Password` varchar(255),
  `ColorPreferences` varchar(255) NOT NULL DEFAULT 0,
  `DataTimeCreated` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DataTimeUpdated` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`ID`),
  FOREIGN KEY (`UniversityID`) REFERENCES `University`(`ID`)
);

CREATE TABLE `RSO` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `UniversityID` int NOT NULL REFERENCES University(ID),
  `OwnerID` int NOT NULL REFERENCES Users(ID),
  `Status` boolean NOT NULL DEFAULT 0,
  `Name` varchar(255) NOT NULL,
  `DataTimeCreated` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DataTimeUpdated` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`ID`),
  FOREIGN KEY (`UniversityID`) REFERENCES `University`(`ID`)
);

CREATE TABLE `Registered` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `RSOID` int NOT NULL REFERENCES Users(ID),
  `UserID` int NOT NULL REFERENCES Users(ID),
  `DataTimeCreated` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DataTimeUpdated` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`ID`),
  FOREIGN KEY (`UserID`) REFERENCES `Users`(`ID`),
  FOREIGN KEY (`RSOID`) REFERENCES `RSO`(`ID`)
);

CREATE TABLE `Location` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `Name` varchar(255) NOT NULL DEFAULT '',
  `Description` text NOT NULL DEFAULT '',
  `Longitude` int NOT NULL DEFAULT 0,
  `Latitude` int NOT NULL DEFAULT 0,
  `DataTimeCreated` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DataTimeUpdated` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`ID`)
);

CREATE TABLE `Categories` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `Name` varchar(255) NOT NULL,
  PRIMARY KEY (`ID`)
);

CREATE TABLE `Events` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `LocationID` int NOT NULL REFERENCES Location(ID),
  `EventCat` int NOT NULL REFERENCES Categories(ID),
  `ForeignID` int,
CONSTRAINT FK_Events_Loc FOREIGN KEY (LocationID) REFERENCES Location(ID),
CONSTRAINT FK_Events_Eve FOREIGN KEY (EventCat) REFERENCES Categories(ID),
  `Name` varchar(255) NOT NULL DEFAULT '',
  `Description` varchar(255) NOT NULL DEFAULT '',
  `Privacy` int NOT NULL DEFAULT 0,
  `ContactPhone` varchar(255) NOT NULL,
  `ContactEmail` varchar(255) NOT NULL,
  `DataTimeCreated` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DataTimeUpdated` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`ID`),
  FOREIGN KEY (`LocationID`) REFERENCES `Location`(`ID`),
  FOREIGN KEY (`EventCat`) REFERENCES `Categories`(`ID`),
  FOREIGN KEY (`ForeignID`) REFERENCES `RSO`(`ID`)
);

CREATE TABLE `Ratings` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `EventID` int NOT NULL REFERENCES Events(ID),
  `UserID` int NOT NULL REFERENCES Users(ID),
CONSTRAINT FK_Rat_Eve FOREIGN KEY (EventID) REFERENCES Events(ID),
CONSTRAINT FK_Rat_User FOREIGN KEY (UserID) REFERENCES Users(ID),
  `Rating` int,
  `DataTimeCreated` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DataTimeUpdated` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`ID`),
  FOREIGN KEY (`UserID`) REFERENCES `Users`(`ID`),
  FOREIGN KEY (`EventID`) REFERENCES `Events`(`EventCat`)
);

CREATE TABLE `Comments` (
  `ID` Int NOT NULL AUTO_INCREMENT,
  `EventID` int NOT NULL REFERENCES Events(ID),
  `UserID` int NOT NULL REFERENCES Users(ID),
CONSTRAINT FK_Com_Eve FOREIGN KEY (EventID) REFERENCES Events(ID),
CONSTRAINT FK_Com_User FOREIGN KEY (UserID) REFERENCES Users(ID),
  `Text` text NOT NULL DEFAULT '',
  `DataTimeCreated` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DataTimeUpdated` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`ID`),
  FOREIGN KEY (`EventID`) REFERENCES `Events`(`EventCat`),
  FOREIGN KEY (`UserID`) REFERENCES `Users`(`ID`)
);

